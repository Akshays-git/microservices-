=== Travel Agent Management System API Test Script ===
This script will test all endpoints of your microservices application
Mon Apr 21 11:04:59 AM IST 2025

=== Testing Agent Service ===
Testing: Create a new agent
URL: POST http://localhost:8000/agents
Payload: {
    "name": "John Smith",
    "email": "john@example.com",
    "phone": "123-456-7890",
    "availability": {
        "days": ["Monday", "Wednesday", "Friday"],
        "shift": "morning"
    }
}
Success! Response:

Created agent with ID: 

Testing: List all agents
URL: GET http://localhost:8000/agents
Success! Response:


Testing: Get specific agent
URL: GET http://localhost:8000/agents/
Success! Response:


Testing: Update agent availability
URL: PUT http://localhost:8000/agents//availability
Payload: {
    "days": ["Tuesday", "Thursday"],
    "shift": "evening"
}
Success! Response:


Testing: Get agent availability
URL: GET http://localhost:8000/agents//availability
Success! Response:


=== Testing Booking Service ===
Testing: Create a new booking
URL: POST http://localhost:8001/bookings
Payload: {
    "agent_id": "",
    "customer_name": "Alice Johnson",
    "service_type": "Flight",
    "price": 350.00
}
Success! Response:

Created booking with ID: 

Testing: Get agent bookings
URL: GET http://localhost:8001/agents//bookings
Success! Response:


Testing: Get agent commission
URL: GET http://localhost:8001/agents//commission
Success! Response:


=== Testing Sales Service ===
Testing: Record a sale
URL: POST http://localhost:8002/sales/record
Payload: {
    "agent_id": "",
    "price": 450.00
}
Success! Response:


Testing: Get sales by agent
URL: GET http://localhost:8002/sales/by-agent/
Success! Response:


Testing: Get sales trends
URL: GET http://localhost:8002/sales/trends
Success! Response:


=== Testing Invoicing Service ===
Testing: Generate an invoice
URL: POST http://localhost:8003/invoice
Payload: {
    "agent_id": "",
    "customer_name": "Bob Wilson",
    "amount": 550.00
}
Success! Response:


Testing: Process agent payout
URL: POST http://localhost:8003/payout
Payload: {
    "agent_id": "",
    "payout_amount": 220.00
}
Success! Response:


Testing: Get agent payouts
URL: GET http://localhost:8003/agents//payouts
Success! Response:


=== Testing Train Booking Service ===
Testing: List all trains
URL: GET http://localhost:8084/trains
Success! Response:


Testing: Get specific train details
URL: GET http://localhost:8084/trains/TRN001
Success! Response:


Testing: Create a new train booking
URL: POST http://localhost:8084/train-bookings
Payload: {
    "agent_id": "",
    "train_number": "TRN001",
    "travel_date": "2025-05-15",
    "passenger_count": 2,
    "train_class": "First Class",
    "passengers": [
        {
            "name": "Jane Smith",
            "age": 35,
            "id_type": "Passport",
            "id_number": "AB123456"
        },
        {
            "name": "David Smith",
            "age": 40,
            "id_type": "Passport",
            "id_number": "CD789012"
        }
    ],
    "special_requests": "Window seats preferred"
}
Success! Response:

Created train booking with ID: 

Testing: List all train bookings
URL: GET http://localhost:8084/train-bookings
Success! Response:


Testing: Get specific train booking details
URL: GET http://localhost:8084/train-bookings/
Success! Response:


Testing: Get agent's train bookings
URL: GET http://localhost:8084/agents//train-bookings
Success! Response:


Testing: Cancel train booking
URL: PUT http://localhost:8084/train-bookings//cancel
Success! Response:


Testing: Search train bookings by criteria
URL: GET http://localhost:8084/train-bookings/search?agent_id=&status=Cancelled
Success! Response:


=== Test Complete ===
All endpoints have been tested.

Generating PDF report...
Attempting to generate PDF using Python...
Python is available but required modules are not installed.
Install one with: pip install weasyprint or pip install pdfkit
Text report is available at: api_test_results.txt
HTML report is available at: api_test_results.html
PDF report is available at: api_test_results.pdf
